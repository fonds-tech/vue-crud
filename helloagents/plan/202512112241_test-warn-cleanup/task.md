# 任务清单: 测试警告清理

目录: `helloagents/plan/202512112241_test-warn-cleanup/`

---

## 1. 调研与定位
- [ ] 1.1 复现并收集 Vue 警告来源（pnpm test，聚焦 search/detail/form/table/hooks）。
- [ ] 1.2 梳理触发路径与对应文件，形成修复列表。

## 2. 渲染与指令解析修复
- [ ] 2.1 为 search/detail 渲染的动态组件/指令添加实例检查与安全兜底，避免 resolve 警告。
- [ ] 2.2 对动态组件配置应用 markRaw/shallowRef，防止组件被 reactive 包裹。

## 3. 生命周期与注入防御
- [ ] 3.1 更新 `useBrowser` 以在无实例/无 window 场景跳过生命周期注册并保持返回值安全。
- [ ] 3.2 调整 `useConfig` 注入默认值，避免 Vue 注入警告，同时维持自定义错误提示。

## 4. 列设置只读写入修复
- [ ] 4.1 审核 table 列设置写入路径，避免对 computed 值写入；必要时复制原始列数据后再写入缓存/emit。

## 5. 测试与验证
- [ ] 5.1 补充/更新针对警告点的单测断言，确保无新警告。
- [ ] 5.2 执行 `pnpm test` 验证无警告、所有用例通过。
- [ ] 5.3 同步更新知识库（如有文档影响）。
